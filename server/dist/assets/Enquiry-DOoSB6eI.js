import{r as N,b as y,V as v,W as w,d as q,e as o,g as E,j as e,x as m,m as P,Y as F,l as S,P as C,M as I,y as h}from"./index-D6ItWktg.js";function z(){const n=N(),{slug:s,productId:i}=y(),{data:t,isLoading:r,isError:d}=v({slug:s,id:i},{skip:!s||!i}),l=t?.product,[p,{isLoading:x}]=w(),g=q({name:o().min(2).required("Name is required"),email:o().email("Invalid email").required("Email is required"),phone:o().matches(/^[0-9]{10}$/,"Enter 10 digit phone number").required("Phone is required"),message:o().min(10,"Message must be at least 10 characters").required("Message is required")}),a=E({enableReinitialize:!0,initialValues:{name:"",email:"",phone:"",subject:l?`Enquiry for ${l.name}`:"",message:"",productId:i},validationSchema:g,onSubmit:async(c,{resetForm:j})=>{try{await p(c).unwrap(),h.success("Enquiry sent successfully!"),j(),setTimeout(()=>n(-1),1500)}catch(f){h.error(f?.data?.message||"Failed to send enquiry")}}});if(r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(d||!l)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[e.jsx(m,{className:"w-10 h-10 text-red-500 mb-3"}),e.jsx("p",{className:"text-red-500 font-medium",children:"Product not found"}),e.jsx("button",{onClick:()=>n(-1),className:"mt-4 underline text-blue-600",children:"Go Back"})]});const b=l.image?.url||l.image;return e.jsx("section",{className:"min-h-screen bg-slate-50 py-16 px-4",children:e.jsx(P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-slate-100 p-10 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-60 h-60 rounded-2xl overflow-hidden shadow-lg bg-white p-3",children:e.jsx("img",{src:b,alt:l.name,className:"w-full h-full object-cover rounded-xl",onError:c=>c.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23f1f5f9' width='100' height='100'/%3E%3C/svg%3E"})}),e.jsx("h2",{className:"mt-6 text-2xl font-bold text-slate-900",children:l.name}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 max-w-sm",children:"Interested in this product? Fill the form and our team will contact you shortly."})]}),e.jsxs("div",{className:"p-10",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-1",children:"Product Enquiry"}),e.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Please provide your details"}),e.jsxs("form",{onSubmit:a.handleSubmit,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{icon:e.jsx(F,{}),name:"name",placeholder:"Full Name",formik:a}),e.jsx(u,{icon:e.jsx(S,{}),name:"email",type:"email",placeholder:"Email Address",formik:a}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(u,{icon:e.jsx(C,{}),name:"phone",placeholder:"Phone Number",formik:a})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(M,{icon:e.jsx(I,{}),name:"message",placeholder:"Tell us about your requirement...",formik:a})}),e.jsx("input",{type:"hidden",...a.getFieldProps("subject")}),e.jsx("input",{type:"hidden",...a.getFieldProps("productId")}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:x||!a.isValid,className:`\r
                  w-full py-4 rounded-xl\r
                  bg-gradient-to-r from-blue-600 to-blue-700\r
                  text-white font-semibold\r
                  shadow-[0_12px_32px_rgba(37,99,235,0.35)]\r
                  hover:brightness-110\r
                  transition\r
                  disabled:opacity-60\r
                `,children:x?"Sending...":"Send Enquiry"})})]})]})]})})})})}function u({icon:n,name:s,type:i="text",placeholder:t,formik:r}){const d=r.touched[s]&&r.errors[s];return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:n}),e.jsx("input",{type:i,...r.getFieldProps(s),placeholder:t,className:`w-full pl-12 pr-4 py-4 rounded-xl border-2 outline-none
            ${d?"border-red-400":"border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-50"}`})]}),d&&e.jsxs("p",{className:"text-sm text-red-500 mt-1 flex items-center gap-1",children:[e.jsx(m,{size:14})," ",r.errors[s]]})]})}function M({icon:n,name:s,placeholder:i,formik:t}){const r=t.touched[s]&&t.errors[s];return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-4 text-slate-400",children:n}),e.jsx("textarea",{rows:5,...t.getFieldProps(s),placeholder:i,className:`w-full pl-12 pr-4 py-4 rounded-xl border-2 resize-none outline-none
            ${r?"border-red-400":"border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-50"}`})]}),r&&e.jsxs("p",{className:"text-sm text-red-500 mt-1 flex items-center gap-1",children:[e.jsx(m,{size:14})," ",t.errors[s]]})]})}export{z as default};

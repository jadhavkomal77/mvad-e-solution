import{aq as B,ar as S,D as c,j as a,y as b}from"./index-D6ItWktg.js";const k={label:"",section:"",isPrimary:!1,isActive:!0,order:1};function L(){const{data:l,isLoading:v}=B(),[h,{isLoading:i}]=S(),[u,p]=c.useState(""),[g,x]=c.useState(""),[n,o]=c.useState([]);c.useEffect(()=>{l&&(p(l.brandName||""),x(l.tagline||""),o(Array.isArray(l.buttons)?l.buttons.slice().sort((e,s)=>e.order-s.order):[]))},[l]);const y=()=>{o([...n,{...k,order:n.length+1}])},d=(e,s,t)=>{const r=[...n];r[e]={...r[e],[s]:t},o(r)},N=e=>{const s=[...n];s.splice(e,1),o(s.map((t,r)=>({...t,order:r+1})))},j=e=>{d(e,"isActive",!n[e].isActive)},f=e=>{o(n.map((s,t)=>({...s,isPrimary:t===e})))},m=(e,s)=>{const t=[...n],r=e+s;r<0||r>=t.length||([t[e],t[r]]=[t[r],t[e]],o(t.map((A,C)=>({...A,order:C+1}))))},w=async()=>{try{await h({brandName:u,tagline:g,buttons:n}).unwrap(),b.success("Navbar saved successfully ✅")}catch{b.error("Failed to save navbar ❌")}};return v?a.jsx("p",{className:"text-center py-20 text-gray-500",children:"Loading navbar..."}):a.jsxs("div",{className:"max-w-4xl bg-white p-6 rounded-xl shadow space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Navbar Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{className:"w-full border p-3 rounded",value:u,onChange:e=>p(e.target.value),placeholder:"Brand Name"}),a.jsx("input",{className:"w-full border p-3 rounded",value:g,onChange:e=>x(e.target.value),placeholder:"Tagline"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Menu Buttons"}),a.jsx("button",{onClick:y,className:"bg-green-600 text-white px-4 py-1 rounded",children:"+ Add Button"})]}),n.map((e,s)=>a.jsxs("div",{className:"border rounded p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{className:"border p-2 rounded",placeholder:"Label (e.g. Home)",value:e.label,onChange:t=>d(s,"label",t.target.value)}),a.jsx("input",{className:"border p-2 rounded",placeholder:"Section / Path (e.g. home)",value:e.section,onChange:t=>d(s,"section",t.target.value)})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>j(s),className:`px-3 py-1 rounded ${e.isActive?"bg-green-600 text-white":"bg-gray-300"}`,children:e.isActive?"Active":"Inactive"}),a.jsx("button",{onClick:()=>f(s),className:`px-3 py-1 rounded ${e.isPrimary?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Primary"}),a.jsx("button",{onClick:()=>m(s,-1),className:"px-3 py-1 bg-gray-100 rounded",children:"↑"}),a.jsx("button",{onClick:()=>m(s,1),className:"px-3 py-1 bg-gray-100 rounded",children:"↓"}),a.jsx("button",{onClick:()=>N(s),className:"px-3 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]},s))]}),a.jsx("button",{onClick:w,disabled:i,className:"bg-blue-600 text-white px-6 py-3 rounded w-full text-lg",children:i?"Saving...":"Save Navbar"})]})}export{L as default};

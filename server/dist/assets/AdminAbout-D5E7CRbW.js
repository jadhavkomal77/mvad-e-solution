import{a6 as b,a7 as v,D as u,j as a,y as p}from"./index-D6ItWktg.js";const j={icon:"",title:"",description:""};function w(){const{data:s,isLoading:m}=b(),[h,{isLoading:d}]=v(),[t,l]=u.useState({mainTitle:"",mainDescription:"",features:[],whyChoose:[],stats:{year:"",projects:"",satisfaction:"",coverage:""}});u.useEffect(()=>{s&&l({mainTitle:s.mainTitle||"",mainDescription:s.mainDescription||"",features:Array.isArray(s.features)?s.features:[],whyChoose:Array.isArray(s.whyChoose)?s.whyChoose:[],stats:{year:s.stats?.year||"",projects:s.stats?.projects||"",satisfaction:s.stats?.satisfaction||"",coverage:s.stats?.coverage||""}})},[s]);const x=e=>l({...t,[e]:[...t[e],j]}),i=(e,r,o,n)=>{const c=[...t[e]];c[r]={...c[r],[o]:n},l({...t,[e]:c})},g=(e,r)=>{const o=[...t[e]];o.splice(r,1),l({...t,[e]:o})},f=async()=>{try{await h(t).unwrap(),p.success("About page updated successfully ✅")}catch{p.error("Failed to update About page ❌")}};return m?a.jsx("p",{className:"text-center mt-10",children:"Loading..."}):a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-10",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"About Page Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{className:"border p-3 w-full rounded",placeholder:"Main Title",value:t.mainTitle,onChange:e=>l({...t,mainTitle:e.target.value})}),a.jsx("textarea",{className:"border p-3 w-full rounded",rows:4,placeholder:"Main Description",value:t.mainDescription,onChange:e=>l({...t,mainDescription:e.target.value})})]}),["features","whyChoose"].map(e=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold capitalize",children:e}),a.jsx("button",{onClick:()=>x(e),className:"bg-green-600 text-white px-4 py-1 rounded",children:"+ Add"})]}),t[e].map((r,o)=>a.jsxs("div",{className:"border p-4 rounded space-y-3",children:[a.jsx("input",{className:"border p-2 w-full rounded",placeholder:"Icon (e.g. Shield)",value:r.icon,onChange:n=>i(e,o,"icon",n.target.value)}),a.jsx("input",{className:"border p-2 w-full rounded",placeholder:"Title",value:r.title,onChange:n=>i(e,o,"title",n.target.value)}),a.jsx("textarea",{className:"border p-2 w-full rounded",placeholder:"Description",value:r.description,onChange:n=>i(e,o,"description",n.target.value)}),a.jsx("button",{onClick:()=>g(e,o),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]},o))]},e)),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Stats"}),["year","projects","satisfaction","coverage"].map(e=>a.jsx("input",{className:"border p-2 w-full rounded",placeholder:e.toUpperCase(),value:t.stats[e],onChange:r=>l({...t,stats:{...t.stats,[e]:r.target.value}})},e))]}),a.jsx("button",{onClick:f,disabled:d,className:"bg-blue-600 text-white w-full py-3 rounded text-lg",children:d?"Saving...":"Save Changes"})]})}export{w as default};

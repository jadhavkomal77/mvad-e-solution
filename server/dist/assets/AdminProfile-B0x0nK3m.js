import{a4 as v,a5 as w,D as i,j as e,m as p,y as u}from"./index-D6ItWktg.js";const C=()=>{const{data:n,isLoading:x,isError:f}=v(),[h]=w(),[g,l]=i.useState(!1),[r,o]=i.useState(null),[b,d]=i.useState(""),[a,c]=i.useState({name:"",email:"",phone:""});i.useEffect(()=>{n?.admin&&(c({name:n.admin.name||"",email:n.admin.email||"",phone:n.admin.phone||""}),d(n.admin.profile?.url||"https://cdn-icons-png.flaticon.com/512/3135/3135715.png"))},[n]);const m=s=>c({...a,[s.target.name]:s.target.value}),y=s=>{const t=s.target.files[0];t&&(o(t),d(URL.createObjectURL(t)))},j=async s=>{s.preventDefault();const t=new FormData;t.append("name",a.name),t.append("email",a.email),t.append("phone",a.phone),r&&t.append("profileImage",r);try{await h(t).unwrap(),u.success("Profile updated successfully ðŸŽ‰"),l(!1),o(null)}catch(N){u.error(N?.data?.message||"Update failed")}};return x?e.jsx("div",{className:"flex justify-center items-center h-screen text-gray-600",children:"Loading profile..."}):f?e.jsx("div",{className:"flex justify-center items-center h-screen text-red-600",children:"Failed to load profile"}):e.jsxs("div",{className:"flex justify-center min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-blue-100 pt-10 px-4",children:[e.jsxs(p.div,{initial:{opacity:0,y:35},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/80 backdrop-blur-xl shadow-xl rounded-2xl p-8 w-full max-w-lg",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:b,alt:"Admin Avatar",className:"w-28 h-28 rounded-full object-cover shadow-lg border-4 border-indigo-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a.name}),e.jsx("p",{className:"text-gray-500",children:a.email}),e.jsx("p",{className:"text-gray-500",children:a.phone}),e.jsx("span",{className:"mt-2 px-4 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"ADMINISTRATOR"})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:()=>l(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg shadow transition",children:"âœï¸ Edit Profile"})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex justify-center items-center z-50",children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl p-6 w-96",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Update Profile"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsx("input",{name:"name",value:a.name,onChange:m,placeholder:"Name",className:"w-full border rounded px-3 py-2"}),e.jsx("input",{name:"email",value:a.email,disabled:!0,className:"w-full border rounded px-3 py-2 bg-gray-100"}),e.jsx("input",{name:"phone",value:a.phone,onChange:m,placeholder:"Phone",className:"w-full border rounded px-3 py-2"}),e.jsx("input",{type:"file",accept:"image/*",onChange:y}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Update"})]})]})]})})]})};export{C as default};

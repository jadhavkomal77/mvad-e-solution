import{aw as N,ax as w,ay as y,az as S,D as i,j as e,y as l}from"./index-D6ItWktg.js";const k=()=>{const{data:o,isLoading:h}=N(),[m]=w(),[g]=y(),[f]=S(),[t,a]=i.useState({title:"",description:"",icon:"",features:""}),[n,c]=i.useState(null),[j,d]=i.useState(!1),[r,u]=i.useState(!1),v=()=>{a({title:"",description:"",icon:"",features:""}),c(null)},x=async()=>{try{u(!0);const s={title:t.title,description:t.description,icon:t.icon,features:t.features.split(",").map(b=>b.trim()).filter(Boolean)};n?(await f({id:n,data:s}).unwrap(),l.success("Service updated âœ…"),d(!1)):(await m(s).unwrap(),l.success("Service added ðŸŽ‰")),v()}catch{l.error("Operation failed âŒ")}finally{u(!1)}},p=async s=>{if(confirm("Delete this service?"))try{await g(s).unwrap(),l.success("Service deleted ðŸ—‘ï¸")}catch{l.error("Delete failed âŒ")}};return h?e.jsx("p",{className:"text-center mt-10",children:"Loading services..."}):e.jsxs("div",{className:"w-full px-3 sm:px-6 py-6 max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6",children:"Service Management"}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add / Update Service"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"border p-3 rounded-lg w-full",placeholder:"Service Title",value:t.title,onChange:s=>a({...t,title:s.target.value})}),e.jsxs("div",{children:[e.jsx("input",{className:"border p-3 rounded-lg w-full",placeholder:"Icon name (e.g. Camera, Shield, Cpu)",value:t.icon,onChange:s=>a({...t,icon:s.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter Lucide icon name (case-sensitive)"})]}),e.jsx("textarea",{className:"border p-3 rounded-lg md:col-span-2 w-full",rows:3,placeholder:"Service Description",value:t.description,onChange:s=>a({...t,description:s.target.value})}),e.jsx("input",{className:"border p-3 rounded-lg md:col-span-2 w-full",placeholder:"Features (comma separated)",value:t.features,onChange:s=>a({...t,features:s.target.value})})]}),e.jsx("button",{onClick:x,disabled:r,className:`mt-6 bg-blue-600 hover:bg-blue-700\r
                     text-white px-8 py-3 rounded-xl font-semibold`,children:r?"Saving...":n?"Update Service":"Add Service"})]}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Services"}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Title"}),e.jsx("th",{className:"p-3 text-left",children:"Icon"}),e.jsx("th",{className:"p-3 text-left",children:"Features"}),e.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:o?.services?.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:s.title}),e.jsx("td",{className:"p-3",children:s.icon}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:s.features.join(", ")}),e.jsxs("td",{className:"p-3 text-center space-x-2",children:[e.jsx("button",{onClick:()=>{c(s._id),a({title:s.title,description:s.description,icon:s.icon,features:s.features.join(", ")}),d(!0)},className:"bg-yellow-500 text-white px-3 py-1 rounded-lg",children:"Edit"}),e.jsx("button",{onClick:()=>p(s._id),className:"bg-red-600 text-white px-3 py-1 rounded-lg",children:"Delete"})]})]},s._id))})]})]}),e.jsx("div",{className:"md:hidden space-y-4",children:o?.services?.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Icon: ",s.icon]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.features.join(", ")}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:()=>{c(s._id),a({title:s.title,description:s.description,icon:s.icon,features:s.features.join(", ")}),d(!0)},className:"flex-1 bg-yellow-500 text-white py-2 rounded-lg",children:"Edit"}),e.jsx("button",{onClick:()=>p(s._id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg",children:"Delete"})]})]},s._id))}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-xl p-6 rounded-2xl shadow-xl",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Update Service"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{className:"border p-3 rounded-lg w-full",value:t.title,onChange:s=>a({...t,title:s.target.value})}),e.jsx("input",{className:"border p-3 rounded-lg w-full",placeholder:"Icon name (Camera, Shield, Cpu)",value:t.icon,onChange:s=>a({...t,icon:s.target.value})}),e.jsx("textarea",{className:"border p-3 rounded-lg w-full",rows:3,value:t.description,onChange:s=>a({...t,description:s.target.value})}),e.jsx("input",{className:"border p-3 rounded-lg w-full",value:t.features,onChange:s=>a({...t,features:s.target.value})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 border py-2 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:r,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg",children:r?"Updating...":"Update"})]})]})})]})};export{k as default};

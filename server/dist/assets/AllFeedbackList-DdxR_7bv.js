import{ak as p,al as g,am as u,j as e,L as y,M as i,m as j,h as N,af as b,y as a}from"./index-D6ItWktg.js";function v(){const{data:n,isLoading:c}=p(),[x]=g(),[m]=u(),l=n?.feedbacks||[],o=async s=>{if(window.confirm("Are you sure you want to delete this feedback?"))try{await x(s).unwrap(),a.success("Feedback deleted successfully ✅")}catch{a.error("Failed to delete feedback ❌")}},h=async(s,t)=>{try{await m({id:s,status:t}).unwrap(),a.success("Status updated successfully")}catch{a.error("Failed to update status")}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(y,{className:"w-8 h-8 animate-spin text-indigo-600"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading feedbacks..."})]})}):e.jsx("div",{className:"p-6 lg:p-8 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(i,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"All User Feedbacks"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Admin overview & resolution management"})]})]})}),l.length===0?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-16 flex flex-col items-center gap-3",children:[e.jsx(i,{className:"w-14 h-14 text-gray-300"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No feedbacks available"})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Rating"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Message"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map((s,t)=>e.jsxs(j.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.04},className:"hover:bg-gray-50 transition",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,d)=>e.jsx(N,{className:`w-4 h-4 ${d<s.rating?"fill-amber-400 text-amber-400":"text-gray-300"}`},d)),e.jsxs("span",{className:"ml-2 text-xs font-medium text-gray-600",children:[s.rating,"/5"]})]})}),e.jsx("td",{className:"px-6 py-4 max-w-md",children:e.jsx("p",{className:"text-sm text-gray-700 truncate",title:s.message,children:s.message})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("select",{value:s.status,onChange:r=>h(s._id,r.target.value),className:`px-3 py-1.5 rounded-full text-xs font-semibold cursor-pointer
                            ${s.status==="Resolved"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Resolved",children:"Resolved"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("button",{onClick:()=>o(s._id),className:`\r
                            inline-flex items-center gap-2\r
                            px-3 py-1.5\r
                            text-sm font-medium text-red-600\r
                            bg-red-50 hover:bg-red-100\r
                            rounded-lg transition\r
                          `,children:[e.jsx(b,{className:"w-4 h-4"}),"Delete"]})})]},s._id))})]})})})]})})}export{v as default};

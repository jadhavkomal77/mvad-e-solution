import{ba as m,j as e,p,C as y,q as h,y as u}from"./index-DsHjdIkQ.js";function j(){const{data:n,isLoading:i,isError:c}=m(),s=n?.payment,t=window.location.href,r=async()=>{await navigator.clipboard.writeText(t),u.success("Payment link copied")},l=async()=>{navigator.share?await navigator.share({title:"Secure Payment",text:"Scan & Pay securely",url:t}):r()},o=()=>{window.open(`https://wa.me/?text=${encodeURIComponent(t)}`,"_blank")},d=async()=>{const x=await(await fetch(s.qrImage.url)).blob(),a=document.createElement("a");a.href=URL.createObjectURL(x),a.download="payment-qr.png",a.click()};return i?e.jsx("div",{className:"min-h-screen grid place-items-center text-gray-500",children:"Loading secure paymentâ€¦"}):c||!s||!s.isActive?e.jsx("div",{className:"min-h-screen grid place-items-center text-red-500",children:"Payment information not available"}):e.jsx("section",{id:"payment",className:"min-h-screen bg-gradient-to-br from-slate-100 via-gray-100 to-slate-200 flex items-center justify-center px-4 py-14",children:e.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur rounded-3xl shadow-2xl border border-gray-200 p-8 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Scan & Pay"}),s.businessName&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Paying to ",e.jsx("b",{children:s.businessName})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-green-50 text-green-700 px-3 py-1.5 rounded-full",children:[e.jsx(p,{size:14}),"Secure Payment"]})}),s.showQr&&s.qrImage?.url&&e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-b from-gray-50 to-gray-100 border shadow-inner",children:e.jsx("img",{src:s.qrImage.url,alt:"Payment QR",className:"w-64 h-64 object-contain"})})}),s.showUpi&&e.jsxs("div",{className:"bg-gray-50 rounded-xl border px-4 py-3 text-sm text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("b",{children:"UPI Name:"})," ",s.upiName]}),e.jsxs("p",{children:[e.jsx("b",{children:"UPI ID:"})," ",s.upiId]})]}),s.paymentNote&&e.jsx("p",{className:"text-xs text-gray-500 text-center",children:s.paymentNote}),e.jsxs("div",{className:"flex items-center rounded-lg border overflow-hidden",children:[e.jsx("input",{value:t,readOnly:!0,className:"flex-1 px-3 py-2 text-xs bg-gray-50 outline-none"}),e.jsx("button",{onClick:r,className:"px-3 text-gray-500 hover:text-black",children:e.jsx(y,{size:16})})]}),e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 bg-black text-white py-3 rounded-xl text-sm hover:opacity-90",children:[e.jsx(h,{size:16}),"Share Payment Link"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:d,className:"border py-2.5 rounded-xl text-sm hover:bg-gray-100",children:"Save QR"}),e.jsx("button",{onClick:o,className:"bg-green-500 text-white py-2.5 rounded-xl text-sm hover:bg-green-600",children:"WhatsApp"})]})]})})}export{j as default};

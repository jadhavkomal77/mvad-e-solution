import{ah as x,ai as m,aj as j,j as e,m as i,y as t}from"./index-D6ItWktg.js";function N(){const{data:l,isLoading:n}=x(),r=l?.enquiries||[],[c]=m(),[d]=j();if(n)return e.jsx("div",{className:"flex justify-center mt-16",children:e.jsx(i.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full"})});if(r.length===0)return e.jsxs("div",{className:"text-center mt-20",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"No Enquiries Yet"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"You will see customer enquiries here."})]});const o=async(s,a)=>{try{await c({id:s,status:a}).unwrap(),t.success("Status updated!")}catch{t.error("Failed to update status")}},u=async s=>{if(window.confirm("Delete this enquiry?"))try{await d(s).unwrap(),t.success("Deleted successfully!")}catch{t.error("Delete failed")}};return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-blue-600",children:"Customer Enquiries"}),e.jsx("div",{className:"overflow-x-auto shadow-lg rounded-xl",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-blue-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3",children:"Name"}),e.jsx("th",{className:"p-3",children:"Email"}),e.jsx("th",{className:"p-3",children:"Subject"}),e.jsx("th",{className:"p-3",children:"Message"}),e.jsx("th",{className:"p-3",children:"Status"}),e.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:r.map((s,a)=>e.jsxs(i.tr,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"border-b hover:bg-gray-100 transition",children:[e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.email}),e.jsx("td",{className:"p-3",children:s.subject}),e.jsx("td",{className:"p-3 text-gray-700",children:s.message}),e.jsx("td",{className:"p-3",children:e.jsxs("select",{value:s.status,onChange:h=>o(s._id,h.target.value),className:"border rounded px-3 py-1 bg-white shadow-sm",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Resolved",children:"Resolved"})]})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("button",{onClick:()=>u(s._id),className:"bg-red-500 text-white px-4 py-1 rounded-lg hover:bg-red-600 transition",children:"Delete"})})]},s._id))})]})})]})}export{N as default};
